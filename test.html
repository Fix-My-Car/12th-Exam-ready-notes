<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MP Board Exam Simulator 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <script>
        tailwind.config = { theme: { extend: { colors: { dark: '#0f172a' } } } }
    </script>
    <style>
        body { background-color: #0f172a; color: white; font-family: 'Inter', sans-serif; }
        .glass { background: rgba(30, 41, 59, 0.8); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.1); }
        .option-btn:disabled { cursor: not-allowed; opacity: 0.8; }
        /* Custom Scrollbar for Mistake Report */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #1e293b; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #3b82f6; border-radius: 4px; }
    </style>
</head>
<body class="min-h-screen p-4 flex flex-col items-center justify-center">

    <div id="start-screen" class="max-w-md w-full glass p-8 rounded-2xl text-center">
        <div class="inline-block p-3 rounded-full bg-blue-500/20 text-blue-400 mb-4 text-2xl">‚ö°</div>
        <h1 class="text-4xl font-bold font-display mb-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-green-400">Exam Simulator</h1>
        <p class="text-gray-400 mb-8 text-sm">Select a subject to begin your test.</p>
        
        <div class="space-y-3">
            <button onclick="startTest('Physics')" class="w-full py-4 border border-blue-500/30 hover:bg-blue-500/10 rounded-xl font-bold text-lg text-blue-400 transition-all flex items-center justify-between px-6 group">
                <span>Physics Only</span>
                <span class="group-hover:translate-x-1 transition-transform">‚Üí</span>
            </button>

            <button onclick="startTest('Chemistry')" class="w-full py-4 border border-green-500/30 hover:bg-green-500/10 rounded-xl font-bold text-lg text-green-400 transition-all flex items-center justify-between px-6 group">
                <span>Chemistry Only</span>
                <span class="group-hover:translate-x-1 transition-transform">‚Üí</span>
            </button>

            <button onclick="startTest('Both')" class="w-full py-4 bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-500 hover:to-green-500 rounded-xl font-bold text-lg text-white shadow-lg transition-all transform hover:scale-105">
                Full PCM Test (Combined)
            </button>
            
            <a href="index.html" class="block py-3 text-gray-500 hover:text-white transition-colors text-sm mt-4">
                ‚Üê Back to Dashboard
            </a>
        </div>
    </div>

    <div id="quiz-screen" class="hidden w-full max-w-2xl">
        <div class="flex justify-between items-center mb-6 px-2">
            <span class="text-gray-400 font-mono text-sm">Question <span id="q-number" class="text-white font-bold">1</span><span class="text-gray-600" id="total-q">/30</span></span>
            <span class="bg-blue-500/10 text-blue-300 px-3 py-1 rounded-full text-sm font-mono border border-blue-500/20" id="timer">00:00</span>
        </div>
        
        <div class="glass p-6 md:p-10 rounded-2xl mb-6 relative overflow-hidden">
            <div class="absolute top-0 left-0 h-1 bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-300" id="progress-bar" style="width: 0%"></div>
            
            <span id="subject-tag" class="text-xs font-bold px-2 py-1 rounded bg-white/5 text-gray-400 mb-4 inline-block">SUBJECT</span>
            <h2 id="question-text" class="text-xl md:text-2xl font-bold mb-8 leading-relaxed"></h2>
            
            <div id="options-container" class="grid gap-3">
                </div>
        </div>

        <button id="next-btn" onclick="nextQuestion()" class="w-full py-4 bg-gray-800 hover:bg-gray-700 border border-white/10 rounded-xl font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed text-gray-300" disabled>
            Skip Question
        </button>
    </div>

    <div id="result-screen" class="hidden max-w-2xl w-full glass p-8 rounded-2xl text-center">
        <h2 class="text-3xl font-bold mb-2">Test Completed!</h2>
        
        <div class="flex justify-center items-center gap-4 my-8">
            <div class="text-center">
                <div class="text-5xl font-display font-bold text-white" id="final-score">0</div>
                <div class="text-xs text-gray-500 uppercase tracking-widest mt-1">Score</div>
            </div>
            <div class="h-12 w-px bg-white/10"></div>
            <div class="text-center">
                <div class="text-5xl font-display font-bold text-blue-400" id="final-percent">0%</div>
                <div class="text-xs text-gray-500 uppercase tracking-widest mt-1">Accuracy</div>
            </div>
        </div>
        
        <p id="feedback-text" class="text-lg text-gray-300 mb-8"></p>
        
        <div class="text-left bg-black/30 p-6 rounded-xl mb-8 max-h-80 overflow-y-auto custom-scrollbar" id="mistake-report">
            </div>

        <div class="grid grid-cols-2 gap-4">
            <button onclick="location.reload()" class="py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-bold transition-colors">
                Retake Test
            </button>
            <a href="index.html" class="py-3 bg-white/5 hover:bg-white/10 rounded-lg font-bold text-center transition-colors">
                Back Home
            </a>
        </div>
    </div>

    <script>
        // --- DATA SOURCE ---
        const questionBank = [
             // --- PHYSICS ---
            { subject: "Physics", q: "Unit of Electric Field?", options: ["Joule", "N/C", "Tesla", "Volt"], a: 1 },
            { subject: "Physics", q: "Value of Œµ‚ÇÄ?", options: ["9√ó10‚Åπ", "8.85√ó10‚Åª¬π¬≤", "1.6√ó10‚Åª¬π‚Åπ", "Zero"], a: 1 },
            { subject: "Physics", q: "Field inside a conductor is?", options: ["Maximum", "Infinite", "Zero", "Uniform"], a: 2 },
            { subject: "Physics", q: "1 Coulomb equals how many electrons?", options: ["1.6√ó10¬π‚Åπ", "6.25√ó10¬π‚Å∏", "9.1√ó10¬≥¬π", "6.023√ó10¬≤¬≥"], a: 1 },
            { subject: "Physics", q: "Dielectric constant of a metal?", options: ["Zero", "One", "Infinite", "Negative"], a: 2 },
            { subject: "Physics", q: "Kirchhoff's 1st Law is based on conservation of?", options: ["Energy", "Charge", "Momentum", "Mass"], a: 1 },
            { subject: "Physics", q: "Kirchhoff's 2nd Law is based on conservation of?", options: ["Energy", "Charge", "Momentum", "Mass"], a: 0 },
            { subject: "Physics", q: "Resistance of an Ideal Ammeter?", options: ["Infinite", "Zero", "100 Ohm", "Very High"], a: 1 },
            { subject: "Physics", q: "Resistance of an Ideal Voltmeter?", options: ["Infinite", "Zero", "100 Ohm", "Very Low"], a: 0 },
            { subject: "Physics", q: "If wire length is doubled by stretching, new Resistance is?", options: ["2R", "R/2", "4R", "R"], a: 2 },
            { subject: "Physics", q: "Moving charge produces?", options: ["Only Electric Field", "Only Magnetic Field", "Both E & B Fields", "None"], a: 2 },
            { subject: "Physics", q: "1 Tesla equals how many Gauss?", options: ["10¬≤", "10¬≥", "10‚Å¥", "10‚Å∂"], a: 2 },
            { subject: "Physics", q: "To convert Galvanometer to Ammeter, connect?", options: ["High R in Series", "Low R in Series", "High R in Parallel", "Low R in Parallel"], a: 3 },
            { subject: "Physics", q: "To convert Galvanometer to Voltmeter, connect?", options: ["High R in Series", "Low R in Series", "High R in Parallel", "Low R in Parallel"], a: 0 },
            { subject: "Physics", q: "Lenz's Law is based on conservation of?", options: ["Charge", "Momentum", "Energy", "Flux"], a: 2 },
            { subject: "Physics", q: "Transformer core is laminated to reduce?", options: ["Copper loss", "Flux leakage", "Eddy currents", "Hysteresis"], a: 2 },
            { subject: "Physics", q: "Frequency of DC current?", options: ["50 Hz", "60 Hz", "Zero", "Infinite"], a: 2 },
            { subject: "Physics", q: "Power Factor of pure Resistor?", options: ["Zero", "One", "Infinity", "0.5"], a: 1 },
            { subject: "Physics", q: "Highest frequency electromagnetic wave?", options: ["X-Rays", "UV Rays", "Gamma Rays", "Radio Waves"], a: 2 },
            { subject: "Physics", q: "Which layer absorbs UV rays?", options: ["Troposphere", "Ozone", "Ionosphere", "Mesosphere"], a: 1 },
            { subject: "Physics", q: "EM Waves are ___ in nature.", options: ["Longitudinal", "Transverse", "Stationary", "Mechanical"], a: 1 },
            { subject: "Physics", q: "Mirage is formed due to?", options: ["Refraction", "Diffraction", "TIR", "Polarization"], a: 2 },
            { subject: "Physics", q: "Sky appears blue due to?", options: ["Dispersion", "Scattering", "Interference", "Reflection"], a: 1 },
            { subject: "Physics", q: "Focal length of plane mirror?", options: ["Zero", "Infinity", "25 cm", "-25 cm"], a: 1 },
            { subject: "Physics", q: "Unit of Power of Lens?", options: ["Watt", "Diopter", "Meter", "Lumen"], a: 1 },
            { subject: "Physics", q: "Energy of a photon?", options: ["mc¬≤", "hŒΩ", "1/2mv¬≤", "mgh"], a: 1 },
            { subject: "Physics", q: "Rest mass of a photon?", options: ["Infinite", "1 amu", "Zero", "9.1√ó10‚Åª¬≥¬π kg"], a: 2 },
            { subject: "Physics", q: "Majority carriers in n-type semiconductor?", options: ["Holes", "Electrons", "Ions", "Neutrons"], a: 1 },
            { subject: "Physics", q: "Semiconductor acts as insulator at?", options: ["0¬∞C", "0 K", "100¬∞C", "Room Temp"], a: 1 },
            { subject: "Physics", q: "Barrier potential of Silicon?", options: ["0.3 V", "0.7 V", "1.1 V", "5 V"], a: 1 },
            { subject: "Physics", q: "Device converting AC to DC?", options: ["Amplifier", "Oscillator", "Rectifier", "Modulator"], a: 2 },
            { subject: "Physics", q: "Universal Logic Gates?", options: ["AND, OR", "NAND, NOR", "NOT, XOR", "XNOR"], a: 1 },
            { subject: "Physics", q: "Pentavalent impurity is used for?", options: ["p-type", "n-type", "Intrinsic", "Insulator"], a: 1 },
            { subject: "Physics", q: "Nuclear force is?", options: ["Long range", "Short range", "Weakest", "Gravitational"], a: 1 },
            { subject: "Physics", q: "1 AMU energy equivalent?", options: ["931 eV", "931 MeV", "1.6 J", "931 J"], a: 1 },

            // --- CHEMISTRY ---
            { subject: "Chemistry", q: "Which is a colligative property?", options: ["Density", "Osmotic Pressure", "Color", "Refractive Index"], a: 1 },
            { subject: "Chemistry", q: "Unit of Molality?", options: ["mol/L", "mol/kg", "g/L", "ppm"], a: 1 },
            { subject: "Chemistry", q: "Solution with highest boiling point?", options: ["1M NaCl", "1M Glucose", "1M Na‚ÇÇSO‚ÇÑ", "1M Urea"], a: 2 },
            { subject: "Chemistry", q: "Colorless ion among the following?", options: ["Cu¬≤‚Å∫", "Fe¬≥‚Å∫", "Zn¬≤‚Å∫", "Mn¬≤‚Å∫"], a: 2 },
            { subject: "Chemistry", q: "Color of transition metal ions is due to?", options: ["d-d transition", "f-f transition", "Charge transfer", "Polarization"], a: 0 },
            { subject: "Chemistry", q: "SN1 reaction is favored by?", options: ["1¬∞ Halide", "2¬∞ Halide", "3¬∞ Halide", "Methyl Halide"], a: 2 },
            { subject: "Chemistry", q: "Lucas Reagent is?", options: ["Conc. HCl + ZnCl‚ÇÇ", "Conc. HNO‚ÇÉ", "Pd/BaSO‚ÇÑ", "LiAlH‚ÇÑ"], a: 0 },
            { subject: "Chemistry", q: "Deficiency of Vitamin A causes?", options: ["Rickets", "Night Blindness", "Scurvy", "Beriberi"], a: 1 },
            { subject: "Chemistry", q: "Metal present in Haemoglobin?", options: ["Mg", "Co", "Fe", "Ca"], a: 2 },
            { subject: "Chemistry", q: "Metal present in Chlorophyll?", options: ["Mg", "Fe", "Zn", "Cu"], a: 0 },
            { subject: "Chemistry", q: "Sugar present in DNA?", options: ["Ribose", "Deoxyribose", "Glucose", "Fructose"], a: 1 },
            { subject: "Chemistry", q: "Base NOT present in DNA?", options: ["Adenine", "Guanine", "Uracil", "Cytosine"], a: 2 },
            { subject: "Chemistry", q: "Proteins are polymers of?", options: ["Glucose", "Amino Acids", "Nucleotides", "Fatty Acids"], a: 1 },
            { subject: "Chemistry", q: "Linkage in Proteins?", options: ["Glycosidic", "Peptide", "Phosphodiester", "Hydrogen"], a: 1 },
            { subject: "Chemistry", q: "Reimer-Tiemann reaction forms?", options: ["Salicylic Acid", "Salicylaldehyde", "Phenol", "Benzene"], a: 1 },
            { subject: "Chemistry", q: "Wurtz reaction is used to prepare?", options: ["Alcohols", "Amines", "Higher Alkanes", "Acids"], a: 2 },
            { subject: "Chemistry", q: "Cannizzaro reaction is given by?", options: ["HCHO", "CH‚ÇÉCHO", "CH‚ÇÉCOCH‚ÇÉ", "C‚ÇÇH‚ÇÖOH"], a: 0 },
            { subject: "Chemistry", q: "Aldol condensation is given by?", options: ["HCHO", "C‚ÇÜH‚ÇÖCHO", "CH‚ÇÉCHO", "CCl‚ÇÑ"], a: 2 },
            { subject: "Chemistry", q: "Carbylamine test is for?", options: ["1¬∞ Amine", "2¬∞ Amine", "3¬∞ Amine", "Amide"], a: 0 },
            { subject: "Chemistry", q: "Williamson's synthesis is for?", options: ["Alcohols", "Ethers", "Ketones", "Aldehydes"], a: 1 },
            { subject: "Chemistry", q: "Formula of Tear Gas?", options: ["N‚ÇÇO", "CCl‚ÇÉNO‚ÇÇ", "COCl‚ÇÇ", "NH‚ÇÉ"], a: 1 },
            { subject: "Chemistry", q: "Oil of Mirbane is?", options: ["Nitrobenzene", "Aniline", "Phenol", "Toluene"], a: 0 },
            { subject: "Chemistry", q: "Vitamin containing Cobalt?", options: ["Vit A", "Vit C", "Vit B12", "Vit D"], a: 2 },
            { subject: "Chemistry", q: "Example of zero order reaction?", options: ["H‚ÇÇ + Cl‚ÇÇ (sunlight)", "Hydrolysis", "Decay", "None"], a: 0 },
            { subject: "Chemistry", q: "Unit of Rate Constant for 1st Order?", options: ["s‚Åª¬π", "mol L‚Åª¬π s‚Åª¬π", "L mol‚Åª¬π s‚Åª¬π", "Dimensionless"], a: 0 },
            { subject: "Chemistry", q: "Standard Electrode Potential of Hydrogen?", options: ["1 V", "0 V", "-1 V", "1.5 V"], a: 1 },
            { subject: "Chemistry", q: "Mixture of Benzene and Toluene is?", options: ["Ideal Solution", "Non-ideal (+ve)", "Non-ideal (-ve)", "Suspension"], a: 0 },
            { subject: "Chemistry", q: "Coordination number of Fe in K‚ÇÑ[Fe(CN)‚ÇÜ]?", options: ["4", "6", "2", "8"], a: 1 },
            { subject: "Chemistry", q: "Shape of [Ni(CN)‚ÇÑ]¬≤‚Åª?", options: ["Tetrahedral", "Square Planar", "Octahedral", "Linear"], a: 1 },
            { subject: "Chemistry", q: "Bakelite is a polymer of Phenol and?", options: ["Formaldehyde", "Acetaldehyde", "Benzaldehyde", "Acetone"], a: 0 }
        ];

        let currentQuestions = [];
        let currentIndex = 0;
        let score = 0;
        let userAnswers = [];
        let timerInterval;
        let seconds = 0;
        let totalQuestions = 30;

        function startTest(mode) {
            let filteredQuestions = [];
            
            // Filter logic
            if (mode === 'Physics') {
                filteredQuestions = questionBank.filter(q => q.subject === 'Physics');
            } else if (mode === 'Chemistry') {
                filteredQuestions = questionBank.filter(q => q.subject === 'Chemistry');
            } else {
                filteredQuestions = questionBank; // Both
            }

            // Randomize and limit to 30 (or less if not enough questions)
            totalQuestions = Math.min(30, filteredQuestions.length);
            currentQuestions = [...filteredQuestions].sort(() => 0.5 - Math.random()).slice(0, totalQuestions);
            
            // UI Updates
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            document.getElementById('total-q').innerText = '/' + totalQuestions;
            
            startTimer();
            loadQuestion();
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                seconds++;
                const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
                const secs = (seconds % 60).toString().padStart(2, '0');
                document.getElementById('timer').innerText = `${mins}:${secs}`;
            }, 1000);
        }

        function loadQuestion() {
            const q = currentQuestions[currentIndex];
            document.getElementById('q-number').innerText = currentIndex + 1;
            
            // Tag styling
            const tag = document.getElementById('subject-tag');
            tag.innerText = q.subject;
            tag.className = `text-xs font-bold px-2 py-1 rounded mb-4 inline-block ${
                q.subject === 'Physics' ? 'bg-blue-500/20 text-blue-400' : 'bg-green-500/20 text-green-400'
            }`;
            
            document.getElementById('question-text').innerText = q.q;
            
            // Progress Bar
            const progress = ((currentIndex) / totalQuestions) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;

            const container = document.getElementById('options-container');
            container.innerHTML = '';

            q.options.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = "option-btn w-full text-left p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-transparent transition-all font-medium text-gray-300";
                btn.innerText = opt;
                btn.onclick = () => selectOption(i, btn);
                container.appendChild(btn);
            });
            
            const nextBtn = document.getElementById('next-btn');
            nextBtn.disabled = true;
            nextBtn.innerText = currentIndex === currentQuestions.length - 1 ? "Finish Test" : "Skip Question";
            nextBtn.className = "w-full py-4 bg-gray-800 hover:bg-gray-700 border border-white/10 rounded-xl font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed text-gray-300";
        }

        function selectOption(index, btn) {
            // Visual selection
            document.querySelectorAll('#options-container button').forEach(b => {
                b.classList.remove('bg-blue-600', 'border-blue-400', 'text-white', 'shadow-lg');
                b.classList.add('bg-white/5', 'text-gray-300');
            });
            btn.classList.remove('bg-white/5', 'text-gray-300');
            // Color based on subject
            const q = currentQuestions[currentIndex];
            const activeColor = q.subject === 'Physics' ? 'bg-blue-600' : 'bg-green-600';
            const activeBorder = q.subject === 'Physics' ? 'border-blue-400' : 'border-green-400';
            
            btn.classList.add(activeColor, activeBorder, 'text-white', 'shadow-lg');
            
            userAnswers[currentIndex] = index;
            
            const nextBtn = document.getElementById('next-btn');
            nextBtn.disabled = false;
            nextBtn.innerText = currentIndex === currentQuestions.length - 1 ? "Submit Test" : "Next Question ‚Üí";
            nextBtn.className = `w-full py-4 rounded-xl font-bold transition-all text-white shadow-lg ${
                q.subject === 'Physics' ? 'bg-blue-600 hover:bg-blue-500' : 'bg-green-600 hover:bg-green-500'
            }`;
        }

        function nextQuestion() {
            if (currentIndex < currentQuestions.length - 1) {
                currentIndex++;
                loadQuestion();
            } else {
                finishTest();
            }
        }

        function finishTest() {
            clearInterval(timerInterval);
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            score = 0;
            const report = document.getElementById('mistake-report');
            report.innerHTML = '<h3 class="font-bold mb-4 border-b border-white/20 pb-2 text-left sticky top-0 bg-[#0f172a] py-2 z-10">Detailed Analysis</h3>';
            
            let hasMistakes = false;

            currentQuestions.forEach((q, i) => {
                if (userAnswers[i] === q.a) {
                    score++;
                } else {
                    hasMistakes = true;
                    const userOpt = userAnswers[i] !== undefined ? q.options[userAnswers[i]] : "<span class='text-gray-500 italic'>Skipped</span>";
                    report.innerHTML += `
                        <div class="mb-4 text-sm text-left border-b border-white/5 pb-4 last:border-0">
                            <div class="flex justify-between mb-1">
                                <span class="text-xs font-bold ${q.subject === 'Physics' ? 'text-blue-400' : 'text-green-400'}">${q.subject}</span>
                            </div>
                            <p class="font-bold text-gray-200 mb-2"><span class="text-xs text-gray-500 mr-2">Q${i+1}</span> ${q.q}</p>
                            <div class="grid grid-cols-1 gap-1 pl-4 border-l-2 border-white/10">
                                <p class="text-red-400 text-xs">‚ùå You: ${userOpt}</p>
                                <p class="text-green-400 text-xs">‚úÖ Correct: ${q.options[q.a]}</p>
                            </div>
                        </div>
                    `;
                }
            });

            if(!hasMistakes) report.innerHTML += "<div class='text-center py-8 text-green-400 font-bold'>üéâ Perfect Score! No mistakes.</div>";

            document.getElementById('final-score').innerText = score;
            const percentage = Math.round((score / totalQuestions) * 100);
            document.getElementById('final-percent').innerText = `${percentage}%`;
            
            const feedback = document.getElementById('feedback-text');
            if(percentage >= 90) feedback.innerText = "Outstanding! Board Exam Ready. üèÜ";
            else if(percentage >= 70) feedback.innerText = "Good job! Just a little more revision. üìö";
            else feedback.innerText = "Keep practicing. Focus on definitions. üí™";
        }
    </script>
</body>
</html>